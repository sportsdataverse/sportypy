<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>sportypy &#8212; sportypy  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/sportypy.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/sportypy-logo-32.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Surfaces" href="surfaces.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#"><span><img src="_static/sportypy-logo-1500.png"></span>
          sportypy</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="surfaces.html">Surfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">sportypy</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#using-the-package">Using the Package</a></li>
<li><a class="reference internal" href="#tv-view-and-display-ranges">TV View and Display Ranges</a><ul>
<li><a class="reference internal" href="#tv-view">TV View</a></li>
<li><a class="reference internal" href="#display-ranges">Display Ranges</a></li>
</ul>
</li>
<li><a class="reference internal" href="#surface-units">Surface Units</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#adding-analyses-and-plotting-data">Adding Analyses and Plotting Data</a></li>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#contributions">Contributions</a><ul>
<li><a class="reference internal" href="#league-office">League Office</a></li>
<li><a class="reference internal" href="#general-managers">General Managers</a></li>
<li><a class="reference internal" href="#coaching-staffs">Coaching Staffs</a></li>
<li><a class="reference internal" href="#scout-team">Scout Team</a></li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#sportypy-logo-artist"><code class="docutils literal notranslate"><span class="pre">sportypy</span></code> Logo Artist</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sitemap">Sitemap</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="surfaces.html" title="Next Chapter: Surfaces"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Surfaces &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/index.md.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="sportypy">
<h1>sportypy<a class="headerlink" href="#sportypy" title="Permalink to this heading">#</a></h1>
<hr>
<img src="https://raw.githubusercontent.com/sportsdataverse/sportypy/main/logos/sportypy-logo-200.png" align="right" width="200"/>
<p><a class="reference external" href="https://codecov.io/gh/sportsdataverse/sportypy"><img alt="codecov" src="https://img.shields.io/codecov/c/github/sportsdataverse/sportypy?color=ff552e&amp;label=codecov&amp;logo=codecov" /></a>
<a class="reference external" href="https://github.com/sportsdataverse/sportypy/"><img alt="Lifecycle:maturing" src="https://img.shields.io/badge/lifecycle-maturing-blue.svg?style=flat&amp;logo=github&amp;color=ff552e" /></a>
<a class="reference external" href="https://twitter.com/sportypy"><img alt="TwitterFollow" src="https://img.shields.io/twitter/follow/sportypy?&amp;label=%40sportypy&amp;logo=twitter&amp;style=flat&amp;color=ff552e" /></a>
<a class="reference external" href="https://twitter.com/sportsdataverse"><img alt="TwitterFollow" src="https://img.shields.io/twitter/follow/sportsdataverse?&amp;label=%40sportsdataverse&amp;logo=twitter&amp;style=flat&amp;color=ff552e" /></a></p>
<p>As the field of sports analytics evolves, there’s a growing need for methods to both track and visualize players throughout the game. This package aims to make this easy regardless of sport needed to be plotted.</p>
<p>This repository contains code necessary to draw scale versions of playing surfaces to visualize play-by-play data for NHL, MLB, NBA, NFL, and NCAA basketball games in <strong>Python</strong>. For the <strong>R</strong> version of this package, click <a class="reference external" href="https://github.com/sportsdataverse/sportypy/">here</a>.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">#</a></h2>
<p>To install <code class="docutils literal notranslate"><span class="pre">sportypy</span></code> via <code class="docutils literal notranslate"><span class="pre">pip</span></code>, please run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install sportypy
</pre></div>
</div>
</section>
<section id="using-the-package">
<h2>Using the Package<a class="headerlink" href="#using-the-package" title="Permalink to this heading">#</a></h2>
<p>Each league that is supported by <code class="docutils literal notranslate"><span class="pre">sportypy</span></code> has its own class in its respective sport under the <code class="docutils literal notranslate"><span class="pre">surfaces</span></code> submodule. As an example, you can instantiate an NHL rink like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load from the hockey submodule in surfaces</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.hockey</span> <span class="kn">import</span> <span class="n">NHLRink</span>

<span class="c1"># Create the NHL rink</span>
<span class="n">nhl</span> <span class="o">=</span> <span class="n">NHLRink</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to see what this would yield, you may call the <code class="docutils literal notranslate"><span class="pre">draw()</span></code> method that belongs to each league surface, like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Draw the NHL rink</span>
<span class="n">nhl</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p><img alt="Full NHL rink output from sportypy" src="_images/nhl-rink.png" /></p>
<p>Each league’s class may take on the following arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">display_range</span></code>: This automatically “zooms” in on the area of the plot you’re interested in. Valid ranges here vary by sport, but can be found in the docs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_trans</span></code> and <code class="docutils literal notranslate"><span class="pre">y_trans</span></code>: By default, the origin of the coordinate system <em>always</em> lies at the center of the plot. For example, <code class="docutils literal notranslate"><span class="pre">(0.0,</span> <span class="pre">0.0)</span></code> on a basketball court lies along the division line and on the line that connects the center of each basket. If you want to shift the origin (and therefore the entire plot), use <code class="docutils literal notranslate"><span class="pre">x_trans</span></code> and <code class="docutils literal notranslate"><span class="pre">y_trans</span></code> to do so</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{surface_type}_updates</span></code>: A list of updates to the parameters that define the surface</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color_updates</span></code>: A list that contains updates to the features’ colors on the plot. These are named by what the feature is, using <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> to specify the names. To get the list of color names you can change, try running <code class="docutils literal notranslate"><span class="pre">cani_color_league_features()</span></code> from your desired league’s class</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotation</span></code>: An angle (in degrees) that you’d like to rotate the plot by, where +\theta is counterclockwise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xlims</span></code> and <code class="docutils literal notranslate"><span class="pre">ylims</span></code>: Any limits you’d like to put on the plot in the x and y direction. These will overwrite anything set by the <code class="docutils literal notranslate"><span class="pre">display_range</span></code> parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{surface}_units</span></code>: If your data is in units that are different than how the rule book of the league specifies the units (e.g. you’ve got NHL data in inches, but the rule book describes the rink in feet), change this parameter to match the units you’ve got your data in. You’re welcome to change the units of the data as well, but this is provided for convenience</p></li>
</ul>
</section>
<section id="tv-view-and-display-ranges">
<h2>TV View and Display Ranges<a class="headerlink" href="#tv-view-and-display-ranges" title="Permalink to this heading">#</a></h2>
<section id="tv-view">
<h3>TV View<a class="headerlink" href="#tv-view" title="Permalink to this heading">#</a></h3>
<p>All of the <code class="docutils literal notranslate"><span class="pre">draw()</span></code> methods, by default, will draw the surface in what can be considered “TV view”, or the way that the surface would typically be displayed on a television broadcast. This typically means the action moves from left to right across the screen (a basketball game that has the baskets on the left and right end of the court). As mentioned above, it is possible to change this to be in any orientation through the <code class="docutils literal notranslate"><span class="pre">rotation</span></code> parameter to each <code class="docutils literal notranslate"><span class="pre">draw()</span></code> method.</p>
<p>There are a few exceptions to this:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{baseball</span> <span class="pre">league}Field</span></code> plots are displayed from the high-home view by default, as baseball coordinates typically have the <code class="docutils literal notranslate"><span class="pre">+y</span></code> axis extending from the back tip of home plate towards center field</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{tennis</span> <span class="pre">league}Court</span></code> is displayed with the court diagrammed from the perspective of the chair umpire</p></li>
</ul>
</section>
<section id="display-ranges">
<h3>Display Ranges<a class="headerlink" href="#display-ranges" title="Permalink to this heading">#</a></h3>
<p>Related to the idea of custom displays of the plot is the concept of the <code class="docutils literal notranslate"><span class="pre">display_range</span></code> parameter in the league’s class <code class="docutils literal notranslate"><span class="pre">draw()</span></code> method. This is unique to each sport, but globally supported across the package. This parameter allows the specification of a designated region of the surface to display. As an example, if you’re trying to limit the analysis of NFL data to being inside of the red zone, you may want to do something similar to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import football fields</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.football</span> <span class="kn">import</span> <span class="n">NFLField</span>

<span class="c1"># Draw the red zone of an NFL field</span>
<span class="n">NFLField</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">display_range</span> <span class="o">=</span> <span class="s2">&quot;red zone&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="Red zone rendered from NFL Field" src="_images/nfl-red-zone.png" /></p>
<p>Another use case would be to make the data you’re viewing easier to see. Say you wanted to look at curling data, but only cared about stone positions in the house (and not the path as to how the stones got there). You might do this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the curling sheets</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.curling</span> <span class="kn">import</span> <span class="n">WCFSheet</span>

<span class="c1"># Draw only the house of a curling sheet</span>
<span class="n">WCFSheet</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">display_range</span> <span class="o">=</span> <span class="s2">&quot;house&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="Curling house rendered from World Curling Federation sheet" src="_images/curling-house.png" /></p>
</section>
</section>
<section id="surface-units">
<h2>Surface Units<a class="headerlink" href="#surface-units" title="Permalink to this heading">#</a></h2>
<p>Each league’s surface has a standardized unit of measure in which the plot is created, and is standardized by the primary units specified in their respective rule books. They are as follows (and any explanation is in parentheses):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Sport</p></th>
<th class="head text-center"><p>League</p></th>
<th class="head text-center"><p>Primary Plotting Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Baseball</p></td>
<td class="text-center"><p>Little League</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Baseball</p></td>
<td class="text-center"><p>MiLB</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Baseball</p></td>
<td class="text-center"><p>MLB</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Baseball</p></td>
<td class="text-center"><p>NCAA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Baseball</p></td>
<td class="text-center"><p>NFHS (High School)</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Baseball</p></td>
<td class="text-center"><p>Pony</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Basketball</p></td>
<td class="text-center"><p>FIBA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Basketball</p></td>
<td class="text-center"><p>NBA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Basketball</p></td>
<td class="text-center"><p>NBA G League</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Basketball</p></td>
<td class="text-center"><p>NCAA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Basketball</p></td>
<td class="text-center"><p>NFHS</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Basketball</p></td>
<td class="text-center"><p>WNBA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Curling</p></td>
<td class="text-center"><p>WCF (World Curling Federation)</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>CFL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>NCAA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>NFHS11 (High School, 11 players)</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>NFHS6 (High School, 6 players)</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>NFHS8 (High School, 8 players)</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>NFHS9 (High School, 9 players)</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Football</p></td>
<td class="text-center"><p>NFL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>AHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>ECHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>IIHF</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>NCAA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>NHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>NWHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>OHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>PHF</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>QMJHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Hockey</p></td>
<td class="text-center"><p>USHL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Soccer</p></td>
<td class="text-center"><p>EPL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Soccer</p></td>
<td class="text-center"><p>FIFA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Soccer</p></td>
<td class="text-center"><p>MLS</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Soccer</p></td>
<td class="text-center"><p>NCAA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Soccer</p></td>
<td class="text-center"><p>NWSL</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">yd</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Tennis</p></td>
<td class="text-center"><p>ATP</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Tennis</p></td>
<td class="text-center"><p>ITA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Tennis</p></td>
<td class="text-center"><p>ITF</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Tennis</p></td>
<td class="text-center"><p>NCAA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Tennis</p></td>
<td class="text-center"><p>USTA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Tennis</p></td>
<td class="text-center"><p>WTA</p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">ft</span></code></p></td>
</tr>
</tbody>
</table>
<p>However, since the data that is supplied may come in various units of measure, the plots are able to be generated in the data’s units. This is done via the <code class="docutils literal notranslate"><span class="pre">{surface_name}_updates</span></code> attribute in the class constructor, using the <code class="docutils literal notranslate"><span class="pre">{surface_name}_units</span></code> key. The features themselves will look visually identical, but the underlying coordinate grid will change.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<p>Some examples to help navigate the package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Draw an NBA court</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.basketball</span> <span class="kn">import</span> <span class="n">NBACourt</span>
<span class="n">NBACourt</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Customize a college basketball court to replicate that of the University of</span>
<span class="c1"># Illinois Fighting Illini</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.basketball</span> <span class="kn">import</span> <span class="n">NCAACourt</span>
<span class="n">NCAACourt</span><span class="p">(</span>
    <span class="n">colors_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;offensive_half_court&quot;</span><span class="p">:</span> <span class="s2">&quot;#e8e0d7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;defensive_half_court&quot;</span><span class="p">:</span> <span class="s2">&quot;#e8e0d7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;court_apron&quot;</span><span class="p">:</span> <span class="s2">&quot;#e84a27&quot;</span><span class="p">,</span>
        <span class="s2">&quot;two_point_range&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#e8e0d7&quot;</span><span class="p">,</span> <span class="s2">&quot;#ffffff66&quot;</span><span class="p">],</span>
        <span class="s2">&quot;center_circle_fill&quot;</span><span class="p">:</span> <span class="s2">&quot;#e8e0d7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;painted_area&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#e84a27&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
        <span class="s2">&quot;free_throw_circle_fill&quot;</span><span class="p">:</span> <span class="s2">&quot;#e8e0d7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sideline&quot;</span><span class="p">:</span> <span class="s2">&quot;#13294b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endline&quot;</span><span class="p">:</span> <span class="s2">&quot;#13294b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;division_line&quot;</span><span class="p">:</span> <span class="s2">&quot;#13294b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;center_circle_outline&quot;</span><span class="p">:</span> <span class="s2">&quot;#13294b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lane_boundary&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span> <span class="s2">&quot;#ffffff00&quot;</span><span class="p">],</span>
        <span class="s2">&quot;three_point_line&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#13294b&quot;</span><span class="p">,</span> <span class="s2">&quot;#ffffff&quot;</span><span class="p">],</span>
        <span class="s2">&quot;free_throw_circle_outline&quot;</span><span class="p">:</span> <span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lane_space_mark&quot;</span><span class="p">:</span> <span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;restricted_arc&quot;</span><span class="p">:</span> <span class="s2">&quot;#13294b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;backboard&quot;</span><span class="p">:</span> <span class="s2">&quot;#13294b&quot;</span>
    <span class="p">}</span>
<span class="p">)</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p><img alt="sportypy-rendered Illini basketball court (sans logos/branding)" src="_images/custom-ncaa-court.png" /></p>
</section>
<section id="adding-analyses-and-plotting-data">
<h2>Adding Analyses and Plotting Data<a class="headerlink" href="#adding-analyses-and-plotting-data" title="Permalink to this heading">#</a></h2>
<p>In addition to just creating the baseline plots, <code class="docutils literal notranslate"><span class="pre">sportypy</span></code> has several methods to display analyses on top of the surfaces that the classes create. The syntax is meant to wrap <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> methods.</p>
<p>Due to the nature of the layering of the surface’s features, it’s recommended to use the <code class="docutils literal notranslate"><span class="pre">zorder</span></code> parameter in the range of <code class="docutils literal notranslate"><span class="pre">11</span></code> to <code class="docutils literal notranslate"><span class="pre">15</span></code> to display model outputs, and <code class="docutils literal notranslate"><span class="pre">zorder</span> <span class="pre">&gt;=</span> <span class="pre">20</span></code> to display individual tracking data points. This allows the features of the surface to be displayed when plotting models while also representing a birds-eye view of any action on the surface (e.g. player positions).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot shot locations provided by the Big Data Cup</span>

<span class="c1"># Download the data</span>
<span class="n">bdc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/bigdatacup/Big-Data-Cup-2021/&quot;</span>
    <span class="s2">&quot;main/hackathon_nwhl.csv&quot;</span>
<span class="p">)</span>

<span class="c1"># Select the Minnesota Whitecaps vs. Boston Pride game (first game in sample)</span>
<span class="n">bdc</span> <span class="o">=</span> <span class="n">bdc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="p">(</span><span class="n">bdc</span><span class="p">[</span><span class="s2">&quot;Home Team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Minnesota Whitecaps&quot;</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">bdc</span><span class="p">[</span><span class="s2">&quot;Away Team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Boston Pride&quot;</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># Filter to only be shots</span>
<span class="n">shots</span> <span class="o">=</span> <span class="n">bdc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">bdc</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;Goal&quot;</span><span class="p">])]</span>

<span class="c1"># Separate shots by team</span>
<span class="n">bos_shots</span> <span class="o">=</span> <span class="n">shots</span><span class="p">[</span><span class="n">shots</span><span class="p">[</span><span class="s2">&quot;Team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Boston Pride&quot;</span><span class="p">]</span>
<span class="n">min_shots</span> <span class="o">=</span> <span class="n">shots</span><span class="p">[</span><span class="n">shots</span><span class="p">[</span><span class="s2">&quot;Team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Minnesota Whitecaps&quot;</span><span class="p">]</span>

<span class="c1"># Instantiate a PHF rink, adjusting the coordinates to match the data</span>
<span class="c1"># (The coordinate (0, 0) is in the bottom-left of the plot)</span>
<span class="n">phf</span> <span class="o">=</span> <span class="n">hockey</span><span class="o">.</span><span class="n">PHFRink</span><span class="p">(</span><span class="n">x_trans</span> <span class="o">=</span> <span class="mf">100.0</span><span class="p">,</span> <span class="n">y_trans</span> <span class="o">=</span> <span class="mf">42.5</span><span class="p">)</span>

<span class="c1"># Draw the rink on a matplotlib.Axes object</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">phf</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">)</span>

<span class="c1"># Add the plot of each team&#39;s shots</span>
<span class="n">phf</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">bos_shots</span><span class="p">[</span><span class="s2">&quot;X Coordinate&quot;</span><span class="p">],</span>
    <span class="n">bos_shots</span><span class="p">[</span><span class="s2">&quot;Y Coordinate&quot;</span><span class="p">],</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;#fec52e&quot;</span>
<span class="p">)</span>
<span class="n">phf</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="mf">200.0</span> <span class="o">-</span> <span class="n">min_shots</span><span class="p">[</span><span class="s2">&quot;X Coordinate&quot;</span><span class="p">],</span>
    <span class="mf">85.0</span> <span class="o">-</span> <span class="n">min_shots</span><span class="p">[</span><span class="s2">&quot;Y Coordinate&quot;</span><span class="p">],</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;#2251b8&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p><img alt="Boston Pride and Minnesota Whitecaps shots (data courtesy Big Data Cup 2021)" src="_images/phf-shots-scatterplot.png" /></p>
<p>The Whitecaps shots are on the left side. In a future version of this package, logos will be displayed on the plot as well</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show passing start/end locations with an arrow plot</span>

<span class="c1"># This relies on the same Big Data Cup dataset cleaned above</span>

<span class="c1"># Filter to only be Boston&#39;s passes</span>
<span class="n">passes</span> <span class="o">=</span> <span class="n">bdc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="p">(</span><span class="n">bdc</span><span class="p">[</span><span class="s2">&quot;Team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Boston Pride&quot;</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">bdc</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Play&quot;</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># Instantiate a PHF rink, adjusting the coordinates to match the data</span>
<span class="c1"># (The coordinate (0, 0) is in the bottom-left of the plot)</span>
<span class="n">phf</span> <span class="o">=</span> <span class="n">PHFRink</span><span class="p">(</span><span class="n">x_trans</span> <span class="o">=</span> <span class="mf">100.0</span><span class="p">,</span> <span class="n">y_trans</span> <span class="o">=</span> <span class="mf">42.5</span><span class="p">)</span>

<span class="c1"># Draw the rink on a matplotlib.Axes object</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">phf</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">)</span>

<span class="c1"># Add the arrow plot of Boston&#39;s passes</span>
<span class="n">phf</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span>
    <span class="n">passes</span><span class="p">[</span><span class="s2">&quot;X Coordinate&quot;</span><span class="p">],</span>
    <span class="n">passes</span><span class="p">[</span><span class="s2">&quot;Y Coordinate&quot;</span><span class="p">],</span>
    <span class="n">passes</span><span class="p">[</span><span class="s2">&quot;X Coordinate 2&quot;</span><span class="p">],</span>
    <span class="n">passes</span><span class="p">[</span><span class="s2">&quot;Y Coordinate 2&quot;</span><span class="p">],</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;#ffcb05&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p><img alt="Boston Pride passes" src="_images/phf-passes-arrowplot.png" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># This example adapted from the hockey_rink package&#39;s documentation, but can be</span>
<span class="c1"># found here: https://github.com/the-bucketless/hockey_rink#examples</span>

<span class="c1"># Import packages</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.hockey</span> <span class="kn">import</span> <span class="n">NHLRink</span>

<span class="c1"># Download the data</span>
<span class="n">pbp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://hockey-data.harryshomer.com/pbp/nhl_pbp20192020.csv.gz&quot;</span><span class="p">,</span>
    <span class="n">compression</span> <span class="o">=</span> <span class="s2">&quot;gzip&quot;</span>
<span class="p">)</span>

<span class="c1"># Find all shots</span>
<span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;goal&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;GOAL&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># Force all x coordinates to be on the same side of the ice</span>
<span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;xC&quot;</span><span class="p">])</span>

<span class="c1"># Adjust the y coordinates so the shots are from the same direction</span>
<span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;yC&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;xC&quot;</span><span class="p">])</span>

<span class="c1"># Subset to only shots</span>
<span class="n">pbp</span> <span class="o">=</span> <span class="n">pbp</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="p">(</span><span class="n">pbp</span><span class="o">.</span><span class="n">Ev_Zone</span> <span class="o">==</span> <span class="s2">&quot;Off&quot;</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="o">~</span><span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span> <span class="o">&amp;</span>
    <span class="o">~</span><span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">pbp</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;GOAL&quot;</span><span class="p">,</span> <span class="s2">&quot;SHOT&quot;</span><span class="p">,</span> <span class="s2">&quot;MISS&quot;</span><span class="p">]))</span>
<span class="p">]</span>

<span class="c1"># Select only relevant columns to reduce data load time</span>
<span class="n">pbp</span> <span class="o">=</span> <span class="n">pbp</span><span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;goal&quot;</span><span class="p">]]</span>

<span class="c1"># Create a matplotlib.Axes object for the test plots to lie on</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Instantiate an NHL rink</span>
<span class="n">nhl</span> <span class="o">=</span> <span class="n">NHLRink</span><span class="p">()</span>

<span class="c1"># Draw a rink on each of the three matplotlib.Axes objects defined above</span>
<span class="c1"># and subset them to only the offensive zone</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">nhl</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">display_range</span> <span class="o">=</span> <span class="s2">&quot;ozone&quot;</span><span class="p">)</span>

<span class="c1"># Add the contour plot</span>
<span class="n">contour_img</span> <span class="o">=</span> <span class="n">nhl</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span>
    <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;goal&quot;</span><span class="p">],</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;bwr&quot;</span><span class="p">,</span>
    <span class="n">plot_range</span> <span class="o">=</span> <span class="s2">&quot;ozone&quot;</span><span class="p">,</span>
    <span class="n">binsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">statistic</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span>
<span class="p">)</span>

<span class="c1"># Add a colorbar legend to the bottom to make the metrics easier to read</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">contour_img</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">orientation</span> <span class="o">=</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">)</span>

<span class="c1"># Add the heatmap plot</span>
<span class="n">nhl</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span>
    <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;goal&quot;</span><span class="p">],</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;magma&quot;</span><span class="p">,</span>
    <span class="n">plot_xlim</span> <span class="o">=</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">89</span><span class="p">),</span>  <span class="c1"># offensive-side blue line to the goal line</span>
    <span class="n">statistic</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span>
    <span class="n">vmax</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binsize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="p">)</span>

<span class="c1"># Add the hexbin plot</span>
<span class="n">nhl</span><span class="o">.</span><span class="n">hexbin</span><span class="p">(</span>
    <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">pbp</span><span class="p">[</span><span class="s2">&quot;goal&quot;</span><span class="p">],</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="n">binsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
    <span class="n">plot_range</span> <span class="o">=</span> <span class="s2">&quot;ozone&quot;</span><span class="p">,</span>
    <span class="n">zorder</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.85</span>
<span class="p">)</span>
</pre></div>
</div>
<p><img alt="Replicating the-bucketless' demonstration of hockey_rink package with sportypy" src="_images/nhl-matplotlib-demo.png" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an NBA shot heat map. The example below uses Ayo Dosunmu&#39;s rookie</span>
<span class="c1"># season</span>

<span class="c1"># Import packages</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sportypy.surfaces.basketball</span> <span class="kn">import</span> <span class="n">NBACourt</span>
<span class="kn">from</span> <span class="nn">nba_api.stats.endpoints</span> <span class="kn">import</span> <span class="n">shotchartdetail</span>

<span class="c1"># Make API request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">shotchartdetail</span><span class="o">.</span><span class="n">ShotChartDetail</span><span class="p">(</span>
    <span class="n">team_id</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">player_id</span> <span class="o">=</span> <span class="mi">1630245</span><span class="p">,</span>
    <span class="n">season_nullable</span> <span class="o">=</span> <span class="s2">&quot;2021-22&quot;</span><span class="p">,</span>
    <span class="n">season_type_all_star</span> <span class="o">=</span> <span class="s2">&quot;Regular Season&quot;</span><span class="p">,</span>
    <span class="n">context_measure_simple</span> <span class="o">=</span> <span class="s2">&quot;FGA&quot;</span>
<span class="p">)</span>

<span class="c1"># Extract the json content</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">get_json</span><span class="p">())</span>

<span class="c1"># Form the data set</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="s2">&quot;resultSets&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;rowSet&quot;</span><span class="p">]</span>
<span class="n">shot_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
<span class="n">shot_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">headers</span>

<span class="c1"># Rotate the coordinates to align with sportypy convention</span>
<span class="n">theta</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;x_r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_X&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span> <span class="o">-</span>
    <span class="p">(</span><span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_Y&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>
<span class="p">)</span>

<span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;y_r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_X&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span> <span class="o">+</span>
    <span class="p">(</span><span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_Y&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># Divide by 10 since NBA API gives coordinates in 1/10 of feet measurements</span>
<span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_X&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;x_r&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mf">10.0</span>
<span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_Y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;y_r&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mf">10.0</span>

<span class="c1"># Drop extra columns</span>
<span class="n">shot_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x_r&quot;</span><span class="p">,</span> <span class="s2">&quot;y_r&quot;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create SHOT_RESULT used for heatmapping</span>
<span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;SHOT_RESULT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;EVENT_TYPE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Made Shot&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">)</span>

<span class="c1"># Define the matplotlib instances to plot onto</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Start by instantiating a court class. NBA shot data is what&#39;s used, so</span>
<span class="c1"># an NBA court is selected. The rotation is to display a traditional shot</span>
<span class="c1"># chart of only the offensive half</span>
<span class="n">nba</span> <span class="o">=</span> <span class="n">NBACourt</span><span class="p">(</span><span class="n">x_trans</span> <span class="o">=</span> <span class="o">-</span><span class="mf">41.75</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">nba</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">display_range</span> <span class="o">=</span> <span class="s2">&quot;offense&quot;</span><span class="p">)</span>
<span class="n">nba</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span>
    <span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_X&quot;</span><span class="p">],</span>
    <span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;LOC_Y&quot;</span><span class="p">],</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">shot_data</span><span class="p">[</span><span class="s2">&quot;SHOT_RESULT&quot;</span><span class="p">],</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">,</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;hot&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p><img alt="Ayo Dosunmu's rookie season heat map" src="_images/ayo-dosunmu-rookie-shot-chart.png" /></p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading">#</a></h2>
<p>This package is released under the <a class="reference external" href="https://github.com/sportsdataverse/sportypy/blob/master/LICENSE">GPL 3.0 License</a>.</p>
</section>
<section id="contributions">
<h2>Contributions<a class="headerlink" href="#contributions" title="Permalink to this heading">#</a></h2>
<section id="league-office">
<h3>League Office<a class="headerlink" href="#league-office" title="Permalink to this heading">#</a></h3>
<p>The package maintainers and functional engineers</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - <code class="docutils literal notranslate"><span class="pre">sportypy</span></code> Commissioner</p></li>
</ul>
</section>
<section id="general-managers">
<h3>General Managers<a class="headerlink" href="#general-managers" title="Permalink to this heading">#</a></h3>
<p>Contribute by adding a new sport and become its general manager. Current general managers (and their sports) are:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Baseball</p></li>
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Basketball</p></li>
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Curling</p></li>
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Football</p></li>
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Hockey</p></li>
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Soccer</p></li>
<li><p><a class="reference external" href="https://github.com/rossdrucker">Ross Drucker</a> - Tennis</p></li>
</ul>
</section>
<section id="coaching-staffs">
<h3>Coaching Staffs<a class="headerlink" href="#coaching-staffs" title="Permalink to this heading">#</a></h3>
<p>Notice something for a sport that already exists, but isn’t quite right? Join that sport’s coaching staff!</p>
</section>
<section id="scout-team">
<h3>Scout Team<a class="headerlink" href="#scout-team" title="Permalink to this heading">#</a></h3>
<p>By regularly reporting issues, making very slight modifications, fixing typos, or just helping others navigate their own issues, you’re able to join the Scout Team!</p>
</section>
<section id="acknowledgements">
<h3>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading">#</a></h3>
<p>Much of the underlying code structure in <code class="docutils literal notranslate"><span class="pre">sportypy</span></code> was directly influenced and inspired by <a class="reference external" href="https://github.com/the-bucketless">The Bucketless</a>’s work on the <a class="reference external" href="https://github.com/the-bucketless/hockey_rink">hockey_rink</a> package. This package is meant to extend the capability that <code class="docutils literal notranslate"><span class="pre">hockey_rink</span></code> provides hockey analysts to analysts of a wider variety of sports</p>
</section>
<section id="sportypy-logo-artist">
<h3><code class="docutils literal notranslate"><span class="pre">sportypy</span></code> Logo Artist<a class="headerlink" href="#sportypy-logo-artist" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">sportypy</span></code> logo was created by Lindsey Kelso. Check her out on <a class="reference external" href="http://Instagram.com/kelsokreationsbylindsey">Instagram</a> or her <a class="reference external" href="http://kelsokreationsbylindsey.bigcartel.com">online shop</a>!</p>
</section>
</section>
<section id="sitemap">
<h2>Sitemap<a class="headerlink" href="#sitemap" title="Permalink to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="surfaces.html">Surfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</div>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022, Ross Drucker.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>